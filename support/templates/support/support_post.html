{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %} 

{%block content %}
<div class="masthead-fluid mb-4">
  <div class="container">
    <div class="row g-0">
      <div class="col support-post-border">
        <div class="div">
          <div class="card-body">
            {% if user.is_authenticated %}
            <h3>Add your Support post below</h3>
            <p>Posting as: {{ user.username }}</p>
            <form id="supportForm" method="post" style="margin-top: 0.5em">

              {{ support_form | crispy }} {% csrf_token %}

              <button id="submitButton" type="submit" class="btn btn-signup btn-lg">
                Submit
              </button>
            </form>
            {% else %}
            <p id="support_post_error">
              Welcome to the "It Takes A Village platform". To help out another by
              replying to a post or to share a support post yourself, please
              <a class="link" href="{{ login_url }}">log in</a>. If you have not
              created an account yet, then
              <a class="link" href="{{ signup_url }}">sign up</a> first.
            </p>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Integrate a confirmation modal to show when a form is left uncompleted -->
<!-- Add in functionality to return the user back to the index page after completing form -->


<!-- <div
  class="modal fade"
  id="deleteModal"
  tabindex="-1"
  aria-labelledby="deleteModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteModalLabel">Delete reply?</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        Are you sure you want to delete your reply? This action cannot be
        undone.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <a id="deleteConfirm" href="#" class="btn btn-danger">Delete</a>
      </div>
    </div>
  </div>
</div> -->

{% endblock content %} 

{% block extras %}
<script src="{% static 'js/replies.js' %}"></script>
{% endblock %}
